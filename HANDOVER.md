# üìã Handover Guide: Digital Geotech Hub

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–æ–¥–æ–ª–∂–∏—Ç —Ä–∞–±–æ—Ç—É –Ω–∞–¥ –ø—Ä–æ–µ–∫—Ç–æ–º.

## üîë –î–æ—Å—Ç—É–ø—ã –∏ –°—Å—ã–ª–∫–∏
- **Directus Admin**: `http://localhost:8055`
  - Login: `admin@geotech.hub`
  - Pass: `geotech-hub-2026`
- **FastAPI Docs**: `http://localhost:8000/docs` (Swagger)
- **Frontend**: `http://localhost:3000`

## üõ°Ô∏è –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏: "Demo Resilience"
–ü—Ä–æ–µ–∫—Ç –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ **–ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–æ–Ω–Ω–æ–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏**. 
1. **Fallbacks**: –í –∫–æ–¥–µ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ (`ProjectsMap.tsx`, `ServiceFAQ.tsx`) –∏ –±—ç–∫–µ–Ω–¥–∞ (`directus.py`) —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –∂–µ—Å—Ç–∫–∏–µ fallback-–¥–∞–Ω–Ω—ã–µ. –ï—Å–ª–∏ API Directus –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç, —Å–∏—Å—Ç–µ–º–∞ –ø–æ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∑–∞–≥–ª—É—à–∫–∏.
2. **AI Mocking**: –í `llm.py` –∏ `ai_copilot.py` –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –ª–æ–≥–∏–∫–∞, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–∏ —Å–±–æ—è—Ö API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–∞—Ä–∞–Ω–µ–µ –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã, —á—Ç–æ–±—ã –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—è –Ω–µ –ø—Ä–µ—Ä–≤–∞–ª–∞—Å—å.
3. **Database Portability**: –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω [directus_schema_snapshot.json](file:///Users/apple/Digital Geotech Hub/directus_schema_snapshot.json). –ü—Ä–∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–∏ –Ω–∞ –Ω–æ–≤–æ–º —Å–µ—Ä–≤–µ—Ä–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É `npx directus schema apply directus_schema_snapshot.json` –¥–ª—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–≥–æ –≤–æ—Å—Å–æ–∑–¥–∞–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ë–î.

## üõ†Ô∏è –ö–∞–∫ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É
1. **–ù–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã–º–∏**: –í –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –±–∞–∑–∞ Directus —Å–æ–¥–µ—Ä–∂–∏—Ç –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –Ω–∞–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö. –î–ª—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–π —Ä–∞–±–æ—Ç—ã –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∑–∞–ø–æ–ª–Ω–∏—Ç—å –∫–æ–ª–ª–µ–∫—Ü–∏–∏ `cases`, `machinery`, `services` –∏ `shpunts`.
2. **Environment Synchronization**: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `.env` (backend) –∏ `.env.local` (frontend) —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã. –ö–ª—é—á–µ–≤–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è ‚Äî `NEXT_PUBLIC_DIRECTUS_URL`.
3. **AI Tuning**: –í `backend/app/services/ai/geotech_analyzer.py` –º–æ–∂–Ω–æ —É—Ç–æ—á–Ω—è—Ç—å –ø—Ä–æ–º–ø—Ç—ã –¥–ª—è `Senior Geotechnical Engineer`. –°–µ–π—á–∞—Å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è GPT-4o.
    - **Refined Calculator**: –í–Ω–µ–¥—Ä–µ–Ω–∞ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è –º–æ–¥–µ–ª—å –æ—Ü–µ–Ω–∫–∏: `(–ú–∞—Ç–µ—Ä–∏–∞–ª—ã + –†–∞–±–æ—Ç–∞ + –ê—Ä–µ–Ω–¥–∞) * –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç —Å–ª–æ–∂–Ω–æ—Å—Ç–∏`. AI –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç —Å–ª–æ–∂–Ω–æ—Å—Ç—å (1.0 - 1.5) –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–µ–∫—Å—Ç–∞ –¢–ó.
    - **Default Rates**: –ë–∞–∑–æ–≤—ã–µ —Ä–∞—Å—Ü–µ–Ω–∫–∏ –Ω–∞ —Ä–∞–±–æ—Ç—ã (–±—É—Ä–µ–Ω–∏–µ, –≤–¥–∞–≤–ª–∏–≤–∞–Ω–∏–µ) –∑–∞—à–∏—Ç—ã –≤ `ai_copilot.py` –∫–∞–∫ `WORK_RATES`.
4. **Lead Management**: –í–Ω–µ–¥—Ä–µ–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –Ω–∞–∫–æ–ø–ª–µ–Ω–∏—è –ª–∏–¥–æ–≤ –≤ Directus (`leads`). –≠—Ç–æ "–ø–µ—Ä–≤—ã–π —ç—à–µ–ª–æ–Ω" –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π –≤ AmoCRM.
5. **Portal Security**: –û–±—â–µ–Ω–∏–µ –±—ç–∫–µ–Ω–¥–∞ —Å Directus —Ç–µ–ø–µ—Ä—å –∑–∞—â–∏—â–µ–Ω–æ —á–µ—Ä–µ–∑ `DIRECTUS_ADMIN_TOKEN`.
6. **Premium Directus UX**: –í—Å–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ —Å–Ω–∞–±–∂–µ–Ω—ã –∏–∫–æ–Ω–∫–∞–º–∏, –∑–∞–º–µ—Ç–∫–∞–º–∏ –∏ —à–∞–±–ª–æ–Ω–∞–º–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ –∫–æ–Ω—Ç–µ–Ω—Ç-–º–µ–Ω–µ–¥–∂–µ—Ä–∞.
7. **Production Deployment**: –°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω –¥–µ—Ç–∞–ª—å–Ω—ã–π [–ü–ª–∞–Ω —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è](file:///Users/apple/.gemini/antigravity/brain/5ed64708-e25e-421c-bf1e-3dc975584844/deployment_plan.md) —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Nginx –∏ Cloudflare Tunnel.

## ‚ö†Ô∏è –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –Ω—é–∞–Ω—Å—ã
- **Email Configuration**: –í `.env` —É–∫–∞–∑–∞–Ω Gmail, –Ω–æ –≤ `config.py` –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å—Ç–æ–∏—Ç SMTP –Ø–Ω–¥–µ–∫—Å–∞. –¢—Ä–µ–±—É–µ—Ç—Å—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –¥–µ–ø–ª–æ–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π –¥–æ–º–µ–Ω.
- **Hydration**: –ù–∞ `<html>` —Ç–µ–≥–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω `suppressHydrationWarning`. –≠—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã –≤ —Å—Ä–µ–¥–∞—Ö, –≤–Ω–µ–¥—Ä—è—é—â–∏—Ö —Å–≤–æ–∏ –∞—Ç—Ä–∏–±—É—Ç—ã.
- **Leaflet SSR**: –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∫–∞—Ä—Ç–∞ –æ–±–µ—Ä–Ω—É—Ç–∞ –≤ `InteractiveMap.tsx` (Client Component) –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –æ—à–∏–±–æ–∫ SSR.

## üìà Roadmap
- [x] –ü–µ—Ä–µ–≤–æ–¥ –∫–ª—é—á–µ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (–¢–µ—Ö–Ω–∏–∫–∞, –ü—Ä–æ–µ–∫—Ç—ã) –Ω–∞ –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ Directus.
- [x] –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ Admin Token –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è Backend-CMS.
- [x] –†–µ–∞–ª–∏–∑–∞—Ü–∏—è Many-to-Many —Å–≤—è–∑–∏ –º–µ–∂–¥—É –ø—Ä–æ–µ–∫—Ç–∞–º–∏ –∏ —Ç–µ—Ö–Ω–∏–∫–æ–π.
- [x] –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è UX –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏ Directus (–∏–∫–æ–Ω–∫–∏, –ø–æ–¥—Å–∫–∞–∑–∫–∏).
- [x] –î–æ—Ä–∞–±–æ—Ç–∫–∞ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞ —Å–º–µ—Ç –≤ `ai_copilot.py` –¥–ª—è —É—á–µ—Ç–∞ —Ä—ã–Ω–æ—á–Ω—ã—Ö —Ü–µ–Ω –∏ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏.
- [ ] –§–∏–Ω–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ SMTP –∏ –∫–∞–Ω–∞–ª–æ–≤ –ø–æ–ª—É—á–µ–Ω–∏—è –ª–∏–¥–æ–≤ –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–Ω-–¥–æ–º–µ–Ω–µ.

---
–£–¥–∞—á–∏! –ü—Ä–æ–¥—É–∫—Ç –∏–º–µ–µ—Ç –±–æ–ª—å—à–æ–π –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª –≤ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Å–∫—É—á–Ω—ã—Ö —Ä–∞—Å—á–µ—Ç–æ–≤ –¥–ª—è –∏–Ω–∂–µ–Ω–µ—Ä–æ–≤.
